##周报
###1123
本周工作
1. 调研基于redis 存储发号进度

下周计划
1. 增加动态预取逻辑
2. 提供预览版本做性能和可用性测试

###1130
本周工作
1. 确认多机房部署etcd不可行性
2. 重新制定多机房发号方案，同机房采用之前的方案，跨机房使用标记位表示机房ID

下周计划
1. 支持标记位，并提供python，java的计算函数
2. 增加动态预取逻辑
3. 提供预览版本做性能和可用性测试

###1207
本周工作
1. 实现基于机房标记位的发号逻辑
2. 增加动态预取逻辑
3. 基于etcd存储

下周计划
1. 优化etcd的存储逻辑
2. 提供python版本发号sdk

###1214
本周工作
1. 优化etcd的存储逻辑
2. 完善测试用例
3. 提供预览版本做性能和可用性测试

下周计划
1. 提供python版本发号sdk

###1221
本周工作
1. 增加zk的存储逻辑
2. 增加redis协议支持

下周计划
1. 优化代码
2. 使用记录发号位置的方式替换channel，减少内存开销

###1228
本周工作
1. 使用toml管理配置
2. 使用记录发号位置的方式替换channel，减少内存开销
3. 使用ringBuffer减少对象和锁

下周计划
~~1. 使用redis作为后备存储，出现灾难时可以手工切换到redis上~~

###0104
本周工作
1. zk可靠性验证

###0227
会议纪要：
1. 数据库的主键id 需要通过发号器支持。主键id为int，所以需要支持int32发号
2. 统计现有前端写死int类型的数据，防止切换到int64，app出现崩溃
本周工作
1. 为了灰度测试，临时修改maxIntBits = 32 来支持int32位发号

下周计划
1. 增加现有协议，允许前端传入最大发号值
2. 将/rabbitid/[dc]/[db] 增加层级/rabbitid/[dc]/[db]/[table]
3. 增加/rabbitid/[dc] 目录的检查
